#include <assert.h>
#include <stddef.h>
#include <stdint.h>

#if defined(__x86_64__) || defined(_M_X64)
#define ARCH_ALIGN 8
#elif defined(__i386__) || defined(_M_IX86)
#define ARCH_ALIGN 4
#else
#define ARCH_ALIGN sizeof(void *)
#endif

#define MAX_CHIP8_MEMORY 4096U

const uint8_t chip8_fontset[] __attribute__((aligned(ARCH_ALIGN))) = {
	0xF0, 0x90, 0x90, 0x90, 0xF0, 0x20, 0x60, 0x20, 0x20, 0x70, 0xF0, 0x10,
	0xF0, 0x80, 0xF0, 0xF0, 0x10, 0xF0, 0x10, 0xF0, 0x90, 0x90, 0xF0, 0x10,
	0x10, 0xF0, 0x80, 0xF0, 0x10, 0xF0, 0xF0, 0x80, 0xF0, 0x90, 0xF0, 0xF0,
	0x10, 0x20, 0x40, 0x40, 0xF0, 0x90, 0xF0, 0x90, 0xF0, 0xF0, 0x90, 0xF0,
	0x10, 0xF0, 0xF0, 0x90, 0xF0, 0x90, 0x90, 0xE0, 0x90, 0xE0, 0x90, 0xE0,
	0xF0, 0x80, 0x80, 0x80, 0xF0, 0xE0, 0x90, 0x90, 0x90, 0xE0, 0xF0, 0x80,
	0xF0, 0x80, 0xF0, 0xF0, 0x80, 0xF0, 0x80, 0x80
};

#define CHIP8_FONTSET_SIZE (sizeof(chip8_fontset))

_Static_assert(CHIP8_FONTSET_SIZE <= MAX_CHIP8_MEMORY,
               "Fontset maior que memória disponível");
